[debug] [2022-02-27T16:02:07.987Z] ----------------------------------------------------------------------
[debug] [2022-02-27T16:02:07.988Z] Command:       /Users/tarinkazi/.nvm/versions/node/v15.14.0/bin/node /Users/tarinkazi/.nvm/versions/node/v15.14.0/bin/firebase emulators:start
[debug] [2022-02-27T16:02:07.988Z] CLI Version:   10.2.1
[debug] [2022-02-27T16:02:07.988Z] Platform:      darwin
[debug] [2022-02-27T16:02:07.988Z] Node Version:  v15.14.0
[debug] [2022-02-27T16:02:07.991Z] Time:          Sun Feb 27 2022 11:02:07 GMT-0500 (Eastern Standard Time)
[debug] [2022-02-27T16:02:07.991Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-02-27T16:02:08.023Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-02-27T16:02:08.023Z] > authorizing via signed-in user (tarin.kazi.afrin@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2022-02-27T16:02:08.040Z] [hub] writing locator at /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/hub-challenge-e932f.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[warn] ⚠  Your requested "node" version "16" doesn't match your global version "15". Using node@15 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"16\" doesn't match your global version \"15\". Using node@15 from host."}}
[debug] [2022-02-27T16:02:08.052Z] defaultcredentials: writing to file /Users/tarinkazi/.config/firebase/tarin_kazi.afrin_gmail.com_application_default_credentials.json
[debug] [2022-02-27T16:02:08.052Z] Setting GAC to /Users/tarinkazi/.config/firebase/tarin_kazi.afrin_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/tarinkazi/.config/firebase/tarin_kazi.afrin_gmail.com_application_default_credentials.json"}}
[debug] [2022-02-27T16:02:08.054Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/challenge-e932f/adminSdkConfig [none]
[debug] [2022-02-27T16:02:08.462Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/challenge-e932f/adminSdkConfig 200
[debug] [2022-02-27T16:02:08.462Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/challenge-e932f/adminSdkConfig {"projectId":"challenge-e932f","databaseURL":"https://challenge-e932f-default-rtdb.firebaseio.com","storageBucket":"challenge-e932f.appspot.com"}
[debug] [2022-02-27T16:02:08.495Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/challenge-e932f/sites 
[debug] [2022-02-27T16:02:08.798Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/challenge-e932f/sites 200
[debug] [2022-02-27T16:02:08.798Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/challenge-e932f/sites {"sites":[{"name":"projects/679485018389/sites/challenge-e932f","defaultUrl":"https://challenge-e932f.web.app","appId":"1:679485018389:web:d220144b346b844555591c","type":"DEFAULT_SITE"}]}
[debug] [2022-02-27T16:02:08.798Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/challenge-e932f/webApps/1:679485018389:web:d220144b346b844555591c/config [none]
[debug] [2022-02-27T16:02:09.320Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/challenge-e932f/webApps/1:679485018389:web:d220144b346b844555591c/config 200
[debug] [2022-02-27T16:02:09.321Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/challenge-e932f/webApps/1:679485018389:web:d220144b346b844555591c/config {"projectId":"challenge-e932f","appId":"1:679485018389:web:d220144b346b844555591c","databaseURL":"https://challenge-e932f-default-rtdb.firebaseio.com","storageBucket":"challenge-e932f.appspot.com","apiKey":"AIzaSyA-XnZhCp5aO6bjHYp1XmT0Bx_WgwSHXow","authDomain":"challenge-e932f.firebaseapp.com","messagingSenderId":"679485018389","measurementId":"G-DLXMLFKS7S"}
[info] i  hosting: Serving hosting files from: nuild {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mnuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2022-02-27T16:02:09.360Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-02-27T16:02:09.360Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-02-27T16:02:09.361Z] Starting Emulator UI with command {"binary":"node","args":["/Users/tarinkazi/.cache/firebase/emulators/ui-v1.6.5/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/tarinkazi/.cache/firebase/emulators/ui-v1.6.5/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2022-02-27T16:02:09.429Z] Web / API server started at localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at localhost:4000\n"}}
[info] i  functions: Watching "/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\" for Cloud Functions..."}}
[debug] [2022-02-27T16:02:09.632Z] Validating nodejs source
[debug] [2022-02-27T16:02:10.332Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^9.8.0",
    "firebase-functions": "^3.14.1",
    "kill-port": "^1.6.1",
    "stripe": "^8.205.0"
  },
  "devDependencies": {
    "eslint": "^7.32.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-promise": "^6.0.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-02-27T16:02:10.333Z] Building nodejs source
[debug] [2022-02-27T16:02:10.333Z] Analyzing nodejs backend spec
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5001/challenge-e932f/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/challenge-e932f/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET / HTTP/1.1" 200 4596 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET / HTTP/1.1\" 200 4596 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[debug] [2022-02-27T16:04:41.623Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js [none]
[debug] [2022-02-27T16:04:41.624Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js [none]
[debug] [2022-02-27T16:04:41.642Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-database-compat.js [none]
[debug] [2022-02-27T16:04:41.643Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js [none]
[debug] [2022-02-27T16:04:41.644Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-functions-compat.js [none]
[debug] [2022-02-27T16:04:41.645Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-messaging-compat.js [none]
[debug] [2022-02-27T16:04:41.690Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js 200
[debug] [2022-02-27T16:04:41.691Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js [stream]
[debug] [2022-02-27T16:04:41.693Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js 200
[debug] [2022-02-27T16:04:41.693Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js [stream]
[debug] [2022-02-27T16:04:41.701Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-database-compat.js 200
[debug] [2022-02-27T16:04:41.701Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-database-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /__/firebase/9.6.7/firebase-app-compat.js HTTP/1.1" 200 17888 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /__/firebase/9.6.7/firebase-app-compat.js HTTP/1.1\" 200 17888 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[debug] [2022-02-27T16:04:41.703Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-storage-compat.js [none]
[debug] [2022-02-27T16:04:41.704Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-messaging-compat.js 200
[debug] [2022-02-27T16:04:41.704Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-messaging-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /__/firebase/9.6.7/firebase-messaging-compat.js HTTP/1.1" 200 9830 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /__/firebase/9.6.7/firebase-messaging-compat.js HTTP/1.1\" 200 9830 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[debug] [2022-02-27T16:04:41.707Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js 200
[debug] [2022-02-27T16:04:41.707Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js [stream]
[debug] [2022-02-27T16:04:41.709Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-analytics-compat.js [none]
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /__/firebase/9.6.7/firebase-database-compat.js HTTP/1.1" 200 47881 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /__/firebase/9.6.7/firebase-database-compat.js HTTP/1.1\" 200 47881 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[debug] [2022-02-27T16:04:41.723Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-remote-config-compat.js [none]
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /__/firebase/9.6.7/firebase-auth-compat.js HTTP/1.1" 200 123087 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /__/firebase/9.6.7/firebase-auth-compat.js HTTP/1.1\" 200 123087 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[debug] [2022-02-27T16:04:41.731Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-functions-compat.js 200
[debug] [2022-02-27T16:04:41.731Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-functions-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /__/firebase/9.6.7/firebase-functions-compat.js HTTP/1.1" 200 7947 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /__/firebase/9.6.7/firebase-functions-compat.js HTTP/1.1\" 200 7947 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /__/firebase/9.6.7/firebase-firestore-compat.js HTTP/1.1" 200 88810 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /__/firebase/9.6.7/firebase-firestore-compat.js HTTP/1.1\" 200 88810 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[debug] [2022-02-27T16:04:41.734Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-performance-compat.js [none]
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /__/firebase/init.js?useEmulator=true HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /__/firebase/init.js?useEmulator=true HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[debug] [2022-02-27T16:04:41.760Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-storage-compat.js 200
[debug] [2022-02-27T16:04:41.760Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-storage-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /__/firebase/9.6.7/firebase-storage-compat.js HTTP/1.1" 200 38245 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /__/firebase/9.6.7/firebase-storage-compat.js HTTP/1.1\" 200 38245 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[debug] [2022-02-27T16:04:41.807Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-analytics-compat.js 200
[debug] [2022-02-27T16:04:41.807Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-analytics-compat.js [stream]
[debug] [2022-02-27T16:04:41.811Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-remote-config-compat.js 200
[debug] [2022-02-27T16:04:41.811Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-remote-config-compat.js [stream]
[debug] [2022-02-27T16:04:41.816Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-performance-compat.js 200
[debug] [2022-02-27T16:04:41.816Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.6.7/firebase-performance-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /__/firebase/9.6.7/firebase-remote-config-compat.js HTTP/1.1" 200 27493 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /__/firebase/9.6.7/firebase-remote-config-compat.js HTTP/1.1\" 200 27493 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /__/firebase/9.6.7/firebase-analytics-compat.js HTTP/1.1" 200 26026 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /__/firebase/9.6.7/firebase-analytics-compat.js HTTP/1.1\" 200 26026 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /__/firebase/9.6.7/firebase-performance-compat.js HTTP/1.1" 200 30811 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /__/firebase/9.6.7/firebase-performance-compat.js HTTP/1.1\" 200 30811 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] "GET /favicon.ico HTTP/1.1" 200 4596 "http://localhost:5000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [27/Feb/2022:16:04:41 +0000] \"GET /favicon.ico HTTP/1.1\" 200 4596 \"http://localhost:5000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36\""}}
[debug] [2022-02-27T16:05:17.306Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T16:05:17.306Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T16:05:17.306Z] Accepted request GET /challenge-e932f/us-central1/api --> us-central1-api
[debug] [2022-02-27T16:05:17.312Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T16:05:17.312Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T16:05:17.313Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T16:05:17.313Z] [worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5440.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5440.sock"}}
[debug] [2022-02-27T16:05:17.313Z] [worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: BUSY"}}
[debug] [2022-02-27T16:05:17.779Z] [runtime-status] [5440] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T16:05:17.780Z] [runtime-status] [5440] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Disabled runtime features: undefined"}}
[debug] [2022-02-27T16:05:17.781Z] [runtime-status] [5440] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T16:05:17.781Z] [runtime-status] [5440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T16:05:17.781Z] [runtime-status] [5440] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T16:05:17.781Z] [runtime-status] [5440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T16:05:17.800Z] [runtime-status] [5440] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T16:05:17.800Z] [runtime-status] [5440] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T16:05:17.801Z] [runtime-status] [5440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T16:05:17.801Z] [runtime-status] [5440] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T16:05:17.801Z] [runtime-status] [5440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T16:05:17.801Z] [runtime-status] [5440] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T16:05:17.856Z] [runtime-status] [5440] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T16:05:17.856Z] [runtime-status] [5440] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Running api in signature http"}}
[debug] [2022-02-27T16:05:17.857Z] [runtime-status] [5440] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5440.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5440.sock"}}
[debug] [2022-02-27T16:05:17.859Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T16:05:17.860Z] [functions] Got req.url=/challenge-e932f/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api, mapping to path=/"}}
[debug] [2022-02-27T16:05:17.861Z] [runtime-status] [5440] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Ephemeral server handling GET request"}}
[debug] [2022-02-27T16:05:17.865Z] [runtime-status] [5440] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5440] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T16:05:17.866Z] [worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: IDLE"}}
[debug] [2022-02-27T16:05:17.866Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T16:05:17.897Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2022-02-27T16:06:49.088Z] File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers"}}
[debug] [2022-02-27T16:06:50.089Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-02-27T16:06:50.090Z] [worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: FINISHING"}}
[debug] [2022-02-27T16:06:50.092Z] Validating nodejs source
[debug] [2022-02-27T16:06:50.748Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^9.8.0",
    "firebase-functions": "^3.14.1",
    "kill-port": "^1.6.1",
    "stripe": "^8.205.0"
  },
  "devDependencies": {
    "eslint": "^7.32.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-promise": "^6.0.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-02-27T16:06:50.749Z] Building nodejs source
[debug] [2022-02-27T16:06:50.749Z] Analyzing nodejs backend spec
[debug] [2022-02-27T16:06:50.752Z] [worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: exited"}}
[debug] [2022-02-27T16:06:50.752Z] [worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-da2dfdf3-e854-41fa-9c29-ea58e9747022]: FINISHED"}}
[debug] [2022-02-27T16:08:20.014Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T16:08:20.015Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T16:08:20.015Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=120994 --> us-central1-api
[debug] [2022-02-27T16:08:20.015Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T16:08:20.022Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T16:08:20.023Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T16:08:20.023Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T16:08:20.023Z] [worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock"}}
[debug] [2022-02-27T16:08:20.023Z] [worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: BUSY"}}
[debug] [2022-02-27T16:08:20.488Z] [runtime-status] [5637] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T16:08:20.488Z] [runtime-status] [5637] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Disabled runtime features: undefined"}}
[debug] [2022-02-27T16:08:20.489Z] [runtime-status] [5637] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T16:08:20.490Z] [runtime-status] [5637] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T16:08:20.490Z] [runtime-status] [5637] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T16:08:20.490Z] [runtime-status] [5637] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T16:08:20.510Z] [runtime-status] [5637] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T16:08:20.510Z] [runtime-status] [5637] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T16:08:20.510Z] [runtime-status] [5637] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T16:08:20.510Z] [runtime-status] [5637] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T16:08:20.511Z] [runtime-status] [5637] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T16:08:20.511Z] [runtime-status] [5637] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T16:08:20.572Z] [runtime-status] [5637] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T16:08:20.572Z] [runtime-status] [5637] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Running api in signature http"}}
[debug] [2022-02-27T16:08:20.573Z] [runtime-status] [5637] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock"}}
[debug] [2022-02-27T16:08:20.575Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T16:08:20.575Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=120994, mapping to path=/payments/create?total=120994 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=120994, mapping to path=/payments/create?total=120994"}}
[debug] [2022-02-27T16:08:20.578Z] [runtime-status] [5637] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  120994 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  120994","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  120994"}}
[debug] [2022-02-27T16:08:20.584Z] [runtime-status] [5637] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T16:08:21.071Z] [worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: IDLE"}}
[debug] [2022-02-27T16:08:21.071Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T17:52:51.811Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T17:52:51.812Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T17:52:51.813Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=120994 --> us-central1-api
[debug] [2022-02-27T17:52:51.813Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T17:52:51.813Z] [worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock"}}
[debug] [2022-02-27T17:52:51.814Z] [worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: BUSY"}}
[debug] [2022-02-27T17:52:51.817Z] [runtime-status] [5637] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T17:52:51.821Z] [runtime-status] [5637] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Running api in signature http"}}
[debug] [2022-02-27T17:52:51.821Z] [runtime-status] [5637] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock"}}
[debug] [2022-02-27T17:52:51.824Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T17:52:51.825Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=120994, mapping to path=/payments/create?total=120994 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=120994, mapping to path=/payments/create?total=120994"}}
[debug] [2022-02-27T17:52:51.827Z] [runtime-status] [5637] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  120994 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  120994","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  120994"}}
[debug] [2022-02-27T17:52:51.831Z] [runtime-status] [5637] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T17:52:52.198Z] [worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: IDLE"}}
[debug] [2022-02-27T17:52:52.198Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T17:52:59.733Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T17:52:59.734Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T17:52:59.734Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-27T17:52:59.734Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T17:52:59.734Z] [worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock"}}
[debug] [2022-02-27T17:52:59.734Z] [worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: BUSY"}}
[debug] [2022-02-27T17:52:59.735Z] [runtime-status] [5637] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T17:52:59.735Z] [runtime-status] [5637] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Running api in signature http"}}
[debug] [2022-02-27T17:52:59.737Z] [runtime-status] [5637] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5637.sock"}}
[debug] [2022-02-27T17:52:59.738Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T17:52:59.738Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-27T17:52:59.740Z] [runtime-status] [5637] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-02-27T17:52:59.740Z] [runtime-status] [5637] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5637] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 17:53:00 GMT', {"user":"      date: 'Sun, 27 Feb 2022 17:53:00 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 17:53:00 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '925ea331-e141-4efa-8dc1-336c26e5f4a8', {"user":"      'idempotency-key': '925ea331-e141-4efa-8dc1-336c26e5f4a8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '925ea331-e141-4efa-8dc1-336c26e5f4a8',"}}
[info] >        'original-request': 'req_y6cZy83LqbybW7', {"user":"      'original-request': 'req_y6cZy83LqbybW7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_y6cZy83LqbybW7',"}}
[info] >        'request-id': 'req_y6cZy83LqbybW7', {"user":"      'request-id': 'req_y6cZy83LqbybW7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_y6cZy83LqbybW7',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_y6cZy83LqbybW7' {"user":"    requestId: 'req_y6cZy83LqbybW7'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_y6cZy83LqbybW7'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 17:53:00 GMT', {"user":"    date: 'Sun, 27 Feb 2022 17:53:00 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 17:53:00 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '925ea331-e141-4efa-8dc1-336c26e5f4a8', {"user":"    'idempotency-key': '925ea331-e141-4efa-8dc1-336c26e5f4a8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '925ea331-e141-4efa-8dc1-336c26e5f4a8',"}}
[info] >      'original-request': 'req_y6cZy83LqbybW7', {"user":"    'original-request': 'req_y6cZy83LqbybW7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_y6cZy83LqbybW7',"}}
[info] >      'request-id': 'req_y6cZy83LqbybW7', {"user":"    'request-id': 'req_y6cZy83LqbybW7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_y6cZy83LqbybW7',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_y6cZy83LqbybW7', {"user":"  requestId: 'req_y6cZy83LqbybW7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_y6cZy83LqbybW7',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T17:52:59.965Z] [worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: exited"}}
[debug] [2022-02-27T17:52:59.966Z] [worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4818f471-f423-4bc7-9f2b-5006a184eff8]: FINISHED"}}
[debug] [2022-02-27T17:52:59.966Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T17:53:12.956Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T17:53:12.956Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T17:53:12.956Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=39800 --> us-central1-api
[debug] [2022-02-27T17:53:12.957Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T17:53:12.966Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T17:53:12.966Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T17:53:12.966Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T17:53:12.967Z] [worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock"}}
[debug] [2022-02-27T17:53:12.967Z] [worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: BUSY"}}
[debug] [2022-02-27T17:53:13.443Z] [runtime-status] [5975] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T17:53:13.443Z] [runtime-status] [5975] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Disabled runtime features: undefined"}}
[debug] [2022-02-27T17:53:13.444Z] [runtime-status] [5975] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T17:53:13.445Z] [runtime-status] [5975] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:53:13.445Z] [runtime-status] [5975] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T17:53:13.446Z] [runtime-status] [5975] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:53:13.464Z] [runtime-status] [5975] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T17:53:13.465Z] [runtime-status] [5975] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T17:53:13.465Z] [runtime-status] [5975] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:53:13.465Z] [runtime-status] [5975] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T17:53:13.465Z] [runtime-status] [5975] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:53:13.465Z] [runtime-status] [5975] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T17:53:13.519Z] [runtime-status] [5975] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T17:53:13.520Z] [runtime-status] [5975] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Running api in signature http"}}
[debug] [2022-02-27T17:53:13.521Z] [runtime-status] [5975] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock"}}
[debug] [2022-02-27T17:53:13.523Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T17:53:13.523Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=39800, mapping to path=/payments/create?total=39800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=39800, mapping to path=/payments/create?total=39800"}}
[debug] [2022-02-27T17:53:13.526Z] [runtime-status] [5975] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  39800 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  39800","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  39800"}}
[debug] [2022-02-27T17:53:13.531Z] [runtime-status] [5975] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T17:53:13.978Z] [worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: IDLE"}}
[debug] [2022-02-27T17:53:13.979Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T17:53:53.018Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T17:53:53.018Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T17:53:53.018Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=39800 --> us-central1-api
[debug] [2022-02-27T17:53:53.018Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T17:53:53.018Z] [worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock"}}
[debug] [2022-02-27T17:53:53.018Z] [worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: BUSY"}}
[debug] [2022-02-27T17:53:53.019Z] [runtime-status] [5975] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T17:53:53.020Z] [runtime-status] [5975] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Running api in signature http"}}
[debug] [2022-02-27T17:53:53.020Z] [runtime-status] [5975] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock"}}
[debug] [2022-02-27T17:53:53.023Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T17:53:53.024Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=39800, mapping to path=/payments/create?total=39800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=39800, mapping to path=/payments/create?total=39800"}}
[debug] [2022-02-27T17:53:53.025Z] [runtime-status] [5975] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  39800 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  39800","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  39800"}}
[debug] [2022-02-27T17:53:53.028Z] [runtime-status] [5975] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T17:53:53.294Z] [worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: IDLE"}}
[debug] [2022-02-27T17:53:53.295Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T17:54:06.749Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T17:54:06.749Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T17:54:06.749Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-27T17:54:06.749Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T17:54:06.750Z] [worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock"}}
[debug] [2022-02-27T17:54:06.750Z] [worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: BUSY"}}
[debug] [2022-02-27T17:54:06.750Z] [runtime-status] [5975] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T17:54:06.750Z] [runtime-status] [5975] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Running api in signature http"}}
[debug] [2022-02-27T17:54:06.750Z] [runtime-status] [5975] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_5975.sock"}}
[debug] [2022-02-27T17:54:06.752Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T17:54:06.753Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-27T17:54:06.754Z] [runtime-status] [5975] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-02-27T17:54:06.755Z] [runtime-status] [5975] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [5975] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 17:54:07 GMT', {"user":"      date: 'Sun, 27 Feb 2022 17:54:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 17:54:07 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'dd432834-28a2-4158-a966-5544a491ed89', {"user":"      'idempotency-key': 'dd432834-28a2-4158-a966-5544a491ed89',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'dd432834-28a2-4158-a966-5544a491ed89',"}}
[info] >        'original-request': 'req_nDc7WzlCErQOWY', {"user":"      'original-request': 'req_nDc7WzlCErQOWY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_nDc7WzlCErQOWY',"}}
[info] >        'request-id': 'req_nDc7WzlCErQOWY', {"user":"      'request-id': 'req_nDc7WzlCErQOWY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_nDc7WzlCErQOWY',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_nDc7WzlCErQOWY' {"user":"    requestId: 'req_nDc7WzlCErQOWY'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_nDc7WzlCErQOWY'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 17:54:07 GMT', {"user":"    date: 'Sun, 27 Feb 2022 17:54:07 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 17:54:07 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'dd432834-28a2-4158-a966-5544a491ed89', {"user":"    'idempotency-key': 'dd432834-28a2-4158-a966-5544a491ed89',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'dd432834-28a2-4158-a966-5544a491ed89',"}}
[info] >      'original-request': 'req_nDc7WzlCErQOWY', {"user":"    'original-request': 'req_nDc7WzlCErQOWY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_nDc7WzlCErQOWY',"}}
[info] >      'request-id': 'req_nDc7WzlCErQOWY', {"user":"    'request-id': 'req_nDc7WzlCErQOWY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_nDc7WzlCErQOWY',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_nDc7WzlCErQOWY', {"user":"  requestId: 'req_nDc7WzlCErQOWY',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_nDc7WzlCErQOWY',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T17:54:06.973Z] [worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: exited"}}
[debug] [2022-02-27T17:54:06.973Z] [worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0f147f03-e4d0-4eae-a460-243f5fbe833e]: FINISHED"}}
[debug] [2022-02-27T17:54:06.973Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T17:54:22.333Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T17:54:22.333Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T17:54:22.333Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=39800 --> us-central1-api
[debug] [2022-02-27T17:54:22.333Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T17:54:22.340Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T17:54:22.340Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T17:54:22.340Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T17:54:22.340Z] [worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6040.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6040.sock"}}
[debug] [2022-02-27T17:54:22.340Z] [worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: BUSY"}}
[debug] [2022-02-27T17:54:22.880Z] [runtime-status] [6040] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T17:54:22.880Z] [runtime-status] [6040] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Disabled runtime features: undefined"}}
[debug] [2022-02-27T17:54:22.881Z] [runtime-status] [6040] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T17:54:22.882Z] [runtime-status] [6040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:54:22.882Z] [runtime-status] [6040] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T17:54:22.882Z] [runtime-status] [6040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:54:22.902Z] [runtime-status] [6040] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T17:54:22.903Z] [runtime-status] [6040] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T17:54:22.903Z] [runtime-status] [6040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:54:22.903Z] [runtime-status] [6040] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T17:54:22.903Z] [runtime-status] [6040] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:54:22.903Z] [runtime-status] [6040] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T17:54:22.958Z] [runtime-status] [6040] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T17:54:22.959Z] [runtime-status] [6040] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Running api in signature http"}}
[debug] [2022-02-27T17:54:22.960Z] [runtime-status] [6040] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6040.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6040.sock"}}
[debug] [2022-02-27T17:54:22.962Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T17:54:22.962Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=39800, mapping to path=/payments/create?total=39800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=39800, mapping to path=/payments/create?total=39800"}}
[debug] [2022-02-27T17:54:22.965Z] [runtime-status] [6040] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  39800 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  39800","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  39800"}}
[debug] [2022-02-27T17:54:22.971Z] [runtime-status] [6040] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T17:54:23.358Z] [worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: IDLE"}}
[debug] [2022-02-27T17:54:23.358Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T17:56:05.021Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T17:56:05.021Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T17:56:05.022Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=39800 --> us-central1-api
[debug] [2022-02-27T17:56:05.022Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T17:56:05.022Z] [worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6040.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6040.sock"}}
[debug] [2022-02-27T17:56:05.022Z] [worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: BUSY"}}
[debug] [2022-02-27T17:56:05.023Z] [runtime-status] [6040] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T17:56:05.023Z] [runtime-status] [6040] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Running api in signature http"}}
[debug] [2022-02-27T17:56:05.023Z] [runtime-status] [6040] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6040.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6040.sock"}}
[debug] [2022-02-27T17:56:05.025Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T17:56:05.025Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=39800, mapping to path=/payments/create?total=39800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=39800, mapping to path=/payments/create?total=39800"}}
[debug] [2022-02-27T17:56:05.027Z] [runtime-status] [6040] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  39800 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  39800","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  39800"}}
[debug] [2022-02-27T17:56:05.028Z] [runtime-status] [6040] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6040] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:519 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:519","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:519"}}
[info] >                new StripeConnectionError({ {"user":"              new StripeConnectionError({","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m               new StripeConnectionError({"}}
[info] >                ^ {"user":"              ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m               ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeConnectionError: An error occurred with our connection to Stripe. {"user":"StripeConnectionError: An error occurred with our connection to Stripe.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeConnectionError: An error occurred with our connection to Stripe."}}
[info] >      at /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:519:15 {"user":"    at /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:519:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:519:15"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeConnectionError', {"user":"  type: 'StripeConnectionError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeConnectionError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      message: 'An error occurred with our connection to Stripe.', {"user":"    message: 'An error occurred with our connection to Stripe.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'An error occurred with our connection to Stripe.',"}}
[info] >      detail: Error: read ECONNRESET {"user":"    detail: Error: read ECONNRESET","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     detail: Error: read ECONNRESET"}}
[info] >          at TLSWrap.onStreamRead (node:internal/stream_base_commons:211:20) { {"user":"        at TLSWrap.onStreamRead (node:internal/stream_base_commons:211:20) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         at TLSWrap.onStreamRead (node:internal/stream_base_commons:211:20) {"}}
[info] >        errno: -54, {"user":"      errno: -54,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       errno: -54,"}}
[info] >        code: 'ECONNRESET', {"user":"      code: 'ECONNRESET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       code: 'ECONNRESET',"}}
[info] >        syscall: 'read' {"user":"      syscall: 'read'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       syscall: 'read'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: undefined, {"user":"  rawType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: undefined,"}}
[info] >    code: undefined, {"user":"  code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: undefined,"}}
[info] >    doc_url: undefined, {"user":"  doc_url: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: undefined,"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: Error: read ECONNRESET {"user":"  detail: Error: read ECONNRESET","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: Error: read ECONNRESET"}}
[info] >        at TLSWrap.onStreamRead (node:internal/stream_base_commons:211:20) { {"user":"      at TLSWrap.onStreamRead (node:internal/stream_base_commons:211:20) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       at TLSWrap.onStreamRead (node:internal/stream_base_commons:211:20) {"}}
[info] >      errno: -54, {"user":"    errno: -54,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     errno: -54,"}}
[info] >      code: 'ECONNRESET', {"user":"    code: 'ECONNRESET',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'ECONNRESET',"}}
[info] >      syscall: 'read' {"user":"    syscall: 'read'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     syscall: 'read'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    headers: undefined, {"user":"  headers: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: undefined,"}}
[info] >    requestId: undefined, {"user":"  requestId: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: undefined,"}}
[info] >    statusCode: undefined, {"user":"  statusCode: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: undefined,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T17:56:05.072Z] [worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: exited"}}
[debug] [2022-02-27T17:56:05.072Z] [worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-01bea4ff-892f-4e33-befd-b54fb1a7e0b5]: FINISHED"}}
[debug] [2022-02-27T17:56:05.072Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T17:56:11.169Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T17:56:11.169Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T17:56:11.169Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=39800 --> us-central1-api
[debug] [2022-02-27T17:56:11.169Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T17:56:11.175Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T17:56:11.176Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T17:56:11.176Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T17:56:11.176Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock"}}
[debug] [2022-02-27T17:56:11.176Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: BUSY"}}
[debug] [2022-02-27T17:56:11.617Z] [runtime-status] [6136] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T17:56:11.617Z] [runtime-status] [6136] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Disabled runtime features: undefined"}}
[debug] [2022-02-27T17:56:11.618Z] [runtime-status] [6136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T17:56:11.619Z] [runtime-status] [6136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:56:11.619Z] [runtime-status] [6136] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T17:56:11.619Z] [runtime-status] [6136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:56:11.642Z] [runtime-status] [6136] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T17:56:11.642Z] [runtime-status] [6136] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T17:56:11.642Z] [runtime-status] [6136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:56:11.642Z] [runtime-status] [6136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T17:56:11.642Z] [runtime-status] [6136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T17:56:11.642Z] [runtime-status] [6136] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T17:56:11.713Z] [runtime-status] [6136] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T17:56:11.713Z] [runtime-status] [6136] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Running api in signature http"}}
[debug] [2022-02-27T17:56:11.714Z] [runtime-status] [6136] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock"}}
[debug] [2022-02-27T17:56:11.716Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T17:56:11.717Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=39800, mapping to path=/payments/create?total=39800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=39800, mapping to path=/payments/create?total=39800"}}
[debug] [2022-02-27T17:56:11.720Z] [runtime-status] [6136] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  39800 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  39800","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  39800"}}
[debug] [2022-02-27T17:56:11.728Z] [runtime-status] [6136] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T17:56:12.153Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: IDLE"}}
[debug] [2022-02-27T17:56:12.153Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T17:56:22.417Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T17:56:22.417Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T17:56:22.418Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=79600 --> us-central1-api
[debug] [2022-02-27T17:56:22.418Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T17:56:22.418Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock"}}
[debug] [2022-02-27T17:56:22.418Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: BUSY"}}
[debug] [2022-02-27T17:56:22.419Z] [runtime-status] [6136] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T17:56:22.419Z] [runtime-status] [6136] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Running api in signature http"}}
[debug] [2022-02-27T17:56:22.419Z] [runtime-status] [6136] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock"}}
[debug] [2022-02-27T17:56:22.422Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T17:56:22.423Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=79600, mapping to path=/payments/create?total=79600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=79600, mapping to path=/payments/create?total=79600"}}
[debug] [2022-02-27T17:56:22.425Z] [runtime-status] [6136] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  79600 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  79600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  79600"}}
[debug] [2022-02-27T17:56:22.426Z] [runtime-status] [6136] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T17:56:22.758Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: IDLE"}}
[debug] [2022-02-27T17:56:22.758Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T18:03:41.202Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T18:03:41.203Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T18:03:41.203Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=79600 --> us-central1-api
[debug] [2022-02-27T18:03:41.203Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T18:03:41.204Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock"}}
[debug] [2022-02-27T18:03:41.207Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: BUSY"}}
[debug] [2022-02-27T18:03:41.208Z] [runtime-status] [6136] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T18:03:41.209Z] [runtime-status] [6136] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Running api in signature http"}}
[debug] [2022-02-27T18:03:41.211Z] [runtime-status] [6136] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock"}}
[debug] [2022-02-27T18:03:41.213Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T18:03:41.213Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=79600, mapping to path=/payments/create?total=79600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=79600, mapping to path=/payments/create?total=79600"}}
[debug] [2022-02-27T18:03:41.215Z] [runtime-status] [6136] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  79600 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  79600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  79600"}}
[debug] [2022-02-27T18:03:41.218Z] [runtime-status] [6136] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T18:03:41.622Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: IDLE"}}
[debug] [2022-02-27T18:03:41.623Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T18:03:56.316Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T18:03:56.316Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T18:03:56.316Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=84384.00000000001 --> us-central1-api
[debug] [2022-02-27T18:03:56.316Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T18:03:56.316Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock"}}
[debug] [2022-02-27T18:03:56.316Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: BUSY"}}
[debug] [2022-02-27T18:03:56.317Z] [runtime-status] [6136] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T18:03:56.317Z] [runtime-status] [6136] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Running api in signature http"}}
[debug] [2022-02-27T18:03:56.318Z] [runtime-status] [6136] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6136.sock"}}
[debug] [2022-02-27T18:03:56.320Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T18:03:56.321Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=84384.00000000001, mapping to path=/payments/create?total=84384.00000000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=84384.00000000001, mapping to path=/payments/create?total=84384.00000000001"}}
[debug] [2022-02-27T18:03:56.322Z] [runtime-status] [6136] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  84384.00000000001 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  84384.00000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  84384.00000000001"}}
[debug] [2022-02-27T18:03:56.323Z] [runtime-status] [6136] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6136] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 84384.00000000001 {"user":"StripeInvalidRequestError: Invalid integer: 84384.00000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 84384.00000000001"}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 84384.00000000001', {"user":"    message: 'Invalid integer: 84384.00000000001',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 84384.00000000001',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 18:03:56 GMT', {"user":"      date: 'Sun, 27 Feb 2022 18:03:56 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 18:03:56 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '254', {"user":"      'content-length': '254',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '254',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '98b231d0-799e-4472-a789-c65d57e759b6', {"user":"      'idempotency-key': '98b231d0-799e-4472-a789-c65d57e759b6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '98b231d0-799e-4472-a789-c65d57e759b6',"}}
[info] >        'original-request': 'req_hszwJRC3ACCRQQ', {"user":"      'original-request': 'req_hszwJRC3ACCRQQ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_hszwJRC3ACCRQQ',"}}
[info] >        'request-id': 'req_hszwJRC3ACCRQQ', {"user":"      'request-id': 'req_hszwJRC3ACCRQQ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_hszwJRC3ACCRQQ',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_hszwJRC3ACCRQQ' {"user":"    requestId: 'req_hszwJRC3ACCRQQ'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_hszwJRC3ACCRQQ'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 18:03:56 GMT', {"user":"    date: 'Sun, 27 Feb 2022 18:03:56 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 18:03:56 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '254', {"user":"    'content-length': '254',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '254',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '98b231d0-799e-4472-a789-c65d57e759b6', {"user":"    'idempotency-key': '98b231d0-799e-4472-a789-c65d57e759b6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '98b231d0-799e-4472-a789-c65d57e759b6',"}}
[info] >      'original-request': 'req_hszwJRC3ACCRQQ', {"user":"    'original-request': 'req_hszwJRC3ACCRQQ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_hszwJRC3ACCRQQ',"}}
[info] >      'request-id': 'req_hszwJRC3ACCRQQ', {"user":"    'request-id': 'req_hszwJRC3ACCRQQ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_hszwJRC3ACCRQQ',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_hszwJRC3ACCRQQ', {"user":"  requestId: 'req_hszwJRC3ACCRQQ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_hszwJRC3ACCRQQ',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T18:03:56.548Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: exited"}}
[debug] [2022-02-27T18:03:56.549Z] [worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a8e47eee-6ed4-455c-a43c-78f97611f5c6]: FINISHED"}}
[debug] [2022-02-27T18:03:56.549Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T18:04:45.082Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T18:04:45.082Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T18:04:45.082Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=84384.00000000001 --> us-central1-api
[debug] [2022-02-27T18:04:45.082Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T18:04:45.086Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T18:04:45.086Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T18:04:45.086Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T18:04:45.086Z] [worker-us-central1-api-f6401481-d731-406f-b143-a823bb95eb0e]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6555.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f6401481-d731-406f-b143-a823bb95eb0e]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6555.sock"}}
[debug] [2022-02-27T18:04:45.086Z] [worker-us-central1-api-f6401481-d731-406f-b143-a823bb95eb0e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f6401481-d731-406f-b143-a823bb95eb0e]: BUSY"}}
[debug] [2022-02-27T18:04:45.532Z] [runtime-status] [6555] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T18:04:45.533Z] [runtime-status] [6555] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Disabled runtime features: undefined"}}
[debug] [2022-02-27T18:04:45.534Z] [runtime-status] [6555] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:04:45.535Z] [runtime-status] [6555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:04:45.535Z] [runtime-status] [6555] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T18:04:45.535Z] [runtime-status] [6555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:04:45.556Z] [runtime-status] [6555] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T18:04:45.556Z] [runtime-status] [6555] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T18:04:45.556Z] [runtime-status] [6555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:04:45.557Z] [runtime-status] [6555] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:04:45.557Z] [runtime-status] [6555] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:04:45.557Z] [runtime-status] [6555] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T18:04:45.618Z] [runtime-status] [6555] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T18:04:45.618Z] [runtime-status] [6555] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Running api in signature http"}}
[debug] [2022-02-27T18:04:45.619Z] [runtime-status] [6555] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6555.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6555.sock"}}
[debug] [2022-02-27T18:04:45.623Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T18:04:45.623Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=84384.00000000001, mapping to path=/payments/create?total=84384.00000000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=84384.00000000001, mapping to path=/payments/create?total=84384.00000000001"}}
[debug] [2022-02-27T18:04:45.626Z] [runtime-status] [6555] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  84384.00000000001 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  84384.00000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  84384.00000000001"}}
[debug] [2022-02-27T18:04:45.631Z] [runtime-status] [6555] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6555] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 84384.00000000001 {"user":"StripeInvalidRequestError: Invalid integer: 84384.00000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 84384.00000000001"}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 84384.00000000001', {"user":"    message: 'Invalid integer: 84384.00000000001',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 84384.00000000001',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 18:04:46 GMT', {"user":"      date: 'Sun, 27 Feb 2022 18:04:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 18:04:46 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '254', {"user":"      'content-length': '254',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '254',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'e440f293-9516-42ad-8f2e-73730483d2c5', {"user":"      'idempotency-key': 'e440f293-9516-42ad-8f2e-73730483d2c5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'e440f293-9516-42ad-8f2e-73730483d2c5',"}}
[info] >        'original-request': 'req_ZkBxY4x5cJVfnJ', {"user":"      'original-request': 'req_ZkBxY4x5cJVfnJ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_ZkBxY4x5cJVfnJ',"}}
[info] >        'request-id': 'req_ZkBxY4x5cJVfnJ', {"user":"      'request-id': 'req_ZkBxY4x5cJVfnJ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_ZkBxY4x5cJVfnJ',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_ZkBxY4x5cJVfnJ' {"user":"    requestId: 'req_ZkBxY4x5cJVfnJ'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_ZkBxY4x5cJVfnJ'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 18:04:46 GMT', {"user":"    date: 'Sun, 27 Feb 2022 18:04:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 18:04:46 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '254', {"user":"    'content-length': '254',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '254',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'e440f293-9516-42ad-8f2e-73730483d2c5', {"user":"    'idempotency-key': 'e440f293-9516-42ad-8f2e-73730483d2c5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'e440f293-9516-42ad-8f2e-73730483d2c5',"}}
[info] >      'original-request': 'req_ZkBxY4x5cJVfnJ', {"user":"    'original-request': 'req_ZkBxY4x5cJVfnJ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_ZkBxY4x5cJVfnJ',"}}
[info] >      'request-id': 'req_ZkBxY4x5cJVfnJ', {"user":"    'request-id': 'req_ZkBxY4x5cJVfnJ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_ZkBxY4x5cJVfnJ',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_ZkBxY4x5cJVfnJ', {"user":"  requestId: 'req_ZkBxY4x5cJVfnJ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_ZkBxY4x5cJVfnJ',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T18:04:45.994Z] [worker-us-central1-api-f6401481-d731-406f-b143-a823bb95eb0e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f6401481-d731-406f-b143-a823bb95eb0e]: exited"}}
[debug] [2022-02-27T18:04:45.994Z] [worker-us-central1-api-f6401481-d731-406f-b143-a823bb95eb0e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f6401481-d731-406f-b143-a823bb95eb0e]: FINISHED"}}
[debug] [2022-02-27T18:04:45.994Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T18:05:02.730Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T18:05:02.731Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T18:05:02.731Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=84384.00000000001 --> us-central1-api
[debug] [2022-02-27T18:05:02.731Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T18:05:02.737Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T18:05:02.738Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T18:05:02.738Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T18:05:02.738Z] [worker-us-central1-api-b46994e8-fb3e-4675-911d-28af733fac1a]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6574.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b46994e8-fb3e-4675-911d-28af733fac1a]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6574.sock"}}
[debug] [2022-02-27T18:05:02.738Z] [worker-us-central1-api-b46994e8-fb3e-4675-911d-28af733fac1a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b46994e8-fb3e-4675-911d-28af733fac1a]: BUSY"}}
[debug] [2022-02-27T18:05:03.207Z] [runtime-status] [6574] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T18:05:03.207Z] [runtime-status] [6574] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Disabled runtime features: undefined"}}
[debug] [2022-02-27T18:05:03.208Z] [runtime-status] [6574] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:03.209Z] [runtime-status] [6574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:03.209Z] [runtime-status] [6574] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T18:05:03.209Z] [runtime-status] [6574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:03.228Z] [runtime-status] [6574] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T18:05:03.228Z] [runtime-status] [6574] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T18:05:03.228Z] [runtime-status] [6574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:03.229Z] [runtime-status] [6574] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:03.229Z] [runtime-status] [6574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:03.229Z] [runtime-status] [6574] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T18:05:03.283Z] [runtime-status] [6574] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T18:05:03.284Z] [runtime-status] [6574] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Running api in signature http"}}
[debug] [2022-02-27T18:05:03.285Z] [runtime-status] [6574] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6574.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6574.sock"}}
[debug] [2022-02-27T18:05:03.286Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T18:05:03.287Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=84384.00000000001, mapping to path=/payments/create?total=84384.00000000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=84384.00000000001, mapping to path=/payments/create?total=84384.00000000001"}}
[debug] [2022-02-27T18:05:03.289Z] [runtime-status] [6574] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  84384.00000000001 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  84384.00000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  84384.00000000001"}}
[debug] [2022-02-27T18:05:03.295Z] [runtime-status] [6574] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6574] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 84384.00000000001 {"user":"StripeInvalidRequestError: Invalid integer: 84384.00000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 84384.00000000001"}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 84384.00000000001', {"user":"    message: 'Invalid integer: 84384.00000000001',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 84384.00000000001',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 18:05:03 GMT', {"user":"      date: 'Sun, 27 Feb 2022 18:05:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 18:05:03 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '254', {"user":"      'content-length': '254',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '254',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'a11b33ce-d551-47bd-8293-21885fc0fb5d', {"user":"      'idempotency-key': 'a11b33ce-d551-47bd-8293-21885fc0fb5d',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'a11b33ce-d551-47bd-8293-21885fc0fb5d',"}}
[info] >        'original-request': 'req_Qlc6LqrEeNUjIs', {"user":"      'original-request': 'req_Qlc6LqrEeNUjIs',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Qlc6LqrEeNUjIs',"}}
[info] >        'request-id': 'req_Qlc6LqrEeNUjIs', {"user":"      'request-id': 'req_Qlc6LqrEeNUjIs',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Qlc6LqrEeNUjIs',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_Qlc6LqrEeNUjIs' {"user":"    requestId: 'req_Qlc6LqrEeNUjIs'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Qlc6LqrEeNUjIs'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 18:05:03 GMT', {"user":"    date: 'Sun, 27 Feb 2022 18:05:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 18:05:03 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '254', {"user":"    'content-length': '254',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '254',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'a11b33ce-d551-47bd-8293-21885fc0fb5d', {"user":"    'idempotency-key': 'a11b33ce-d551-47bd-8293-21885fc0fb5d',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'a11b33ce-d551-47bd-8293-21885fc0fb5d',"}}
[info] >      'original-request': 'req_Qlc6LqrEeNUjIs', {"user":"    'original-request': 'req_Qlc6LqrEeNUjIs',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Qlc6LqrEeNUjIs',"}}
[info] >      'request-id': 'req_Qlc6LqrEeNUjIs', {"user":"    'request-id': 'req_Qlc6LqrEeNUjIs',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Qlc6LqrEeNUjIs',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_Qlc6LqrEeNUjIs', {"user":"  requestId: 'req_Qlc6LqrEeNUjIs',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Qlc6LqrEeNUjIs',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T18:05:03.630Z] [worker-us-central1-api-b46994e8-fb3e-4675-911d-28af733fac1a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b46994e8-fb3e-4675-911d-28af733fac1a]: exited"}}
[debug] [2022-02-27T18:05:03.631Z] [worker-us-central1-api-b46994e8-fb3e-4675-911d-28af733fac1a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b46994e8-fb3e-4675-911d-28af733fac1a]: FINISHED"}}
[debug] [2022-02-27T18:05:03.631Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T18:05:52.943Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T18:05:52.943Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T18:05:52.943Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=3588.0000000000005 --> us-central1-api
[debug] [2022-02-27T18:05:52.943Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T18:05:52.949Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T18:05:52.949Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T18:05:52.949Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T18:05:52.950Z] [worker-us-central1-api-cfcb1c5a-4a0a-4eaf-81c1-5f899c57579c]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6617.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cfcb1c5a-4a0a-4eaf-81c1-5f899c57579c]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6617.sock"}}
[debug] [2022-02-27T18:05:52.950Z] [worker-us-central1-api-cfcb1c5a-4a0a-4eaf-81c1-5f899c57579c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cfcb1c5a-4a0a-4eaf-81c1-5f899c57579c]: BUSY"}}
[debug] [2022-02-27T18:05:53.411Z] [runtime-status] [6617] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T18:05:53.411Z] [runtime-status] [6617] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Disabled runtime features: undefined"}}
[debug] [2022-02-27T18:05:53.412Z] [runtime-status] [6617] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:53.413Z] [runtime-status] [6617] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:53.413Z] [runtime-status] [6617] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T18:05:53.413Z] [runtime-status] [6617] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:53.432Z] [runtime-status] [6617] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T18:05:53.432Z] [runtime-status] [6617] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T18:05:53.432Z] [runtime-status] [6617] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:53.432Z] [runtime-status] [6617] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:53.433Z] [runtime-status] [6617] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:05:53.433Z] [runtime-status] [6617] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T18:05:53.485Z] [runtime-status] [6617] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T18:05:53.485Z] [runtime-status] [6617] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Running api in signature http"}}
[debug] [2022-02-27T18:05:53.486Z] [runtime-status] [6617] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6617.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6617.sock"}}
[debug] [2022-02-27T18:05:53.488Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T18:05:53.488Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=3588.0000000000005, mapping to path=/payments/create?total=3588.0000000000005 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=3588.0000000000005, mapping to path=/payments/create?total=3588.0000000000005"}}
[debug] [2022-02-27T18:05:53.491Z] [runtime-status] [6617] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  3588.0000000000005 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  3588.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  3588.0000000000005"}}
[debug] [2022-02-27T18:05:53.497Z] [runtime-status] [6617] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6617] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 3588.0000000000005 {"user":"StripeInvalidRequestError: Invalid integer: 3588.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 3588.0000000000005"}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 3588.0000000000005', {"user":"    message: 'Invalid integer: 3588.0000000000005',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 3588.0000000000005',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 18:05:53 GMT', {"user":"      date: 'Sun, 27 Feb 2022 18:05:53 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 18:05:53 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '255', {"user":"      'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '255',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'a8c48c67-b3b8-4ff0-a18e-a5e28ee6e097', {"user":"      'idempotency-key': 'a8c48c67-b3b8-4ff0-a18e-a5e28ee6e097',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'a8c48c67-b3b8-4ff0-a18e-a5e28ee6e097',"}}
[info] >        'original-request': 'req_81VQuMuk325Pu1', {"user":"      'original-request': 'req_81VQuMuk325Pu1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_81VQuMuk325Pu1',"}}
[info] >        'request-id': 'req_81VQuMuk325Pu1', {"user":"      'request-id': 'req_81VQuMuk325Pu1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_81VQuMuk325Pu1',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_81VQuMuk325Pu1' {"user":"    requestId: 'req_81VQuMuk325Pu1'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_81VQuMuk325Pu1'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 18:05:53 GMT', {"user":"    date: 'Sun, 27 Feb 2022 18:05:53 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 18:05:53 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '255', {"user":"    'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '255',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'a8c48c67-b3b8-4ff0-a18e-a5e28ee6e097', {"user":"    'idempotency-key': 'a8c48c67-b3b8-4ff0-a18e-a5e28ee6e097',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'a8c48c67-b3b8-4ff0-a18e-a5e28ee6e097',"}}
[info] >      'original-request': 'req_81VQuMuk325Pu1', {"user":"    'original-request': 'req_81VQuMuk325Pu1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_81VQuMuk325Pu1',"}}
[info] >      'request-id': 'req_81VQuMuk325Pu1', {"user":"    'request-id': 'req_81VQuMuk325Pu1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_81VQuMuk325Pu1',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_81VQuMuk325Pu1', {"user":"  requestId: 'req_81VQuMuk325Pu1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_81VQuMuk325Pu1',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T18:05:53.837Z] [worker-us-central1-api-cfcb1c5a-4a0a-4eaf-81c1-5f899c57579c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cfcb1c5a-4a0a-4eaf-81c1-5f899c57579c]: exited"}}
[debug] [2022-02-27T18:05:53.837Z] [worker-us-central1-api-cfcb1c5a-4a0a-4eaf-81c1-5f899c57579c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cfcb1c5a-4a0a-4eaf-81c1-5f899c57579c]: FINISHED"}}
[debug] [2022-02-27T18:05:53.837Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T18:06:28.753Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T18:06:28.753Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T18:06:28.753Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=3588.0000000000005 --> us-central1-api
[debug] [2022-02-27T18:06:28.753Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T18:06:28.758Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T18:06:28.758Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T18:06:28.758Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T18:06:28.759Z] [worker-us-central1-api-d2895c9b-25ab-4700-8ab6-aef953e6379b]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6650.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2895c9b-25ab-4700-8ab6-aef953e6379b]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6650.sock"}}
[debug] [2022-02-27T18:06:28.759Z] [worker-us-central1-api-d2895c9b-25ab-4700-8ab6-aef953e6379b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2895c9b-25ab-4700-8ab6-aef953e6379b]: BUSY"}}
[debug] [2022-02-27T18:06:29.250Z] [runtime-status] [6650] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T18:06:29.250Z] [runtime-status] [6650] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Disabled runtime features: undefined"}}
[debug] [2022-02-27T18:06:29.251Z] [runtime-status] [6650] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:06:29.251Z] [runtime-status] [6650] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:06:29.252Z] [runtime-status] [6650] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T18:06:29.252Z] [runtime-status] [6650] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:06:29.271Z] [runtime-status] [6650] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T18:06:29.271Z] [runtime-status] [6650] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T18:06:29.271Z] [runtime-status] [6650] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:06:29.272Z] [runtime-status] [6650] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:06:29.272Z] [runtime-status] [6650] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:06:29.272Z] [runtime-status] [6650] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T18:06:29.327Z] [runtime-status] [6650] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T18:06:29.328Z] [runtime-status] [6650] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Running api in signature http"}}
[debug] [2022-02-27T18:06:29.328Z] [runtime-status] [6650] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6650.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6650.sock"}}
[debug] [2022-02-27T18:06:29.331Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T18:06:29.331Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=3588.0000000000005, mapping to path=/payments/create?total=3588.0000000000005 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=3588.0000000000005, mapping to path=/payments/create?total=3588.0000000000005"}}
[debug] [2022-02-27T18:06:29.334Z] [runtime-status] [6650] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  3588.0000000000005 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  3588.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  3588.0000000000005"}}
[debug] [2022-02-27T18:06:29.339Z] [runtime-status] [6650] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6650] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 3588.0000000000005 {"user":"StripeInvalidRequestError: Invalid integer: 3588.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 3588.0000000000005"}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 3588.0000000000005', {"user":"    message: 'Invalid integer: 3588.0000000000005',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 3588.0000000000005',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 18:06:29 GMT', {"user":"      date: 'Sun, 27 Feb 2022 18:06:29 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 18:06:29 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '255', {"user":"      'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '255',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'a1c16081-156e-438f-ad5c-f593d50bd466', {"user":"      'idempotency-key': 'a1c16081-156e-438f-ad5c-f593d50bd466',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'a1c16081-156e-438f-ad5c-f593d50bd466',"}}
[info] >        'original-request': 'req_wk8rfBpuzvNL7R', {"user":"      'original-request': 'req_wk8rfBpuzvNL7R',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_wk8rfBpuzvNL7R',"}}
[info] >        'request-id': 'req_wk8rfBpuzvNL7R', {"user":"      'request-id': 'req_wk8rfBpuzvNL7R',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_wk8rfBpuzvNL7R',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_wk8rfBpuzvNL7R' {"user":"    requestId: 'req_wk8rfBpuzvNL7R'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_wk8rfBpuzvNL7R'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 18:06:29 GMT', {"user":"    date: 'Sun, 27 Feb 2022 18:06:29 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 18:06:29 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '255', {"user":"    'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '255',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'a1c16081-156e-438f-ad5c-f593d50bd466', {"user":"    'idempotency-key': 'a1c16081-156e-438f-ad5c-f593d50bd466',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'a1c16081-156e-438f-ad5c-f593d50bd466',"}}
[info] >      'original-request': 'req_wk8rfBpuzvNL7R', {"user":"    'original-request': 'req_wk8rfBpuzvNL7R',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_wk8rfBpuzvNL7R',"}}
[info] >      'request-id': 'req_wk8rfBpuzvNL7R', {"user":"    'request-id': 'req_wk8rfBpuzvNL7R',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_wk8rfBpuzvNL7R',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_wk8rfBpuzvNL7R', {"user":"  requestId: 'req_wk8rfBpuzvNL7R',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_wk8rfBpuzvNL7R',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T18:06:29.688Z] [worker-us-central1-api-d2895c9b-25ab-4700-8ab6-aef953e6379b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2895c9b-25ab-4700-8ab6-aef953e6379b]: exited"}}
[debug] [2022-02-27T18:06:29.688Z] [worker-us-central1-api-d2895c9b-25ab-4700-8ab6-aef953e6379b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2895c9b-25ab-4700-8ab6-aef953e6379b]: FINISHED"}}
[debug] [2022-02-27T18:06:29.688Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T18:09:52.879Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T18:09:52.879Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T18:09:52.879Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=3588.0000000000005 --> us-central1-api
[debug] [2022-02-27T18:09:52.879Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T18:09:52.885Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T18:09:52.885Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T18:09:52.886Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T18:09:52.886Z] [worker-us-central1-api-99a7879d-743d-4cf2-9d77-da7040f658c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6803.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-99a7879d-743d-4cf2-9d77-da7040f658c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6803.sock"}}
[debug] [2022-02-27T18:09:52.886Z] [worker-us-central1-api-99a7879d-743d-4cf2-9d77-da7040f658c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-99a7879d-743d-4cf2-9d77-da7040f658c6]: BUSY"}}
[debug] [2022-02-27T18:09:53.366Z] [runtime-status] [6803] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T18:09:53.367Z] [runtime-status] [6803] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Disabled runtime features: undefined"}}
[debug] [2022-02-27T18:09:53.368Z] [runtime-status] [6803] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:09:53.368Z] [runtime-status] [6803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:09:53.368Z] [runtime-status] [6803] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T18:09:53.369Z] [runtime-status] [6803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:09:53.388Z] [runtime-status] [6803] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T18:09:53.388Z] [runtime-status] [6803] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T18:09:53.389Z] [runtime-status] [6803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:09:53.389Z] [runtime-status] [6803] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:09:53.389Z] [runtime-status] [6803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:09:53.389Z] [runtime-status] [6803] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T18:09:53.446Z] [runtime-status] [6803] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T18:09:53.446Z] [runtime-status] [6803] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Running api in signature http"}}
[debug] [2022-02-27T18:09:53.447Z] [runtime-status] [6803] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6803.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6803.sock"}}
[debug] [2022-02-27T18:09:53.449Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T18:09:53.449Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=3588.0000000000005, mapping to path=/payments/create?total=3588.0000000000005 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=3588.0000000000005, mapping to path=/payments/create?total=3588.0000000000005"}}
[debug] [2022-02-27T18:09:53.452Z] [runtime-status] [6803] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  3588.0000000000005 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  3588.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  3588.0000000000005"}}
[debug] [2022-02-27T18:09:53.457Z] [runtime-status] [6803] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6803] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 3588.0000000000005 {"user":"StripeInvalidRequestError: Invalid integer: 3588.0000000000005","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 3588.0000000000005"}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 3588.0000000000005', {"user":"    message: 'Invalid integer: 3588.0000000000005',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 3588.0000000000005',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 18:09:53 GMT', {"user":"      date: 'Sun, 27 Feb 2022 18:09:53 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 18:09:53 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '255', {"user":"      'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '255',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '59f1b69f-a1d4-4825-be74-95a2220f9288', {"user":"      'idempotency-key': '59f1b69f-a1d4-4825-be74-95a2220f9288',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '59f1b69f-a1d4-4825-be74-95a2220f9288',"}}
[info] >        'original-request': 'req_IhC5Zo4Wa8yAy2', {"user":"      'original-request': 'req_IhC5Zo4Wa8yAy2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_IhC5Zo4Wa8yAy2',"}}
[info] >        'request-id': 'req_IhC5Zo4Wa8yAy2', {"user":"      'request-id': 'req_IhC5Zo4Wa8yAy2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_IhC5Zo4Wa8yAy2',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_IhC5Zo4Wa8yAy2' {"user":"    requestId: 'req_IhC5Zo4Wa8yAy2'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_IhC5Zo4Wa8yAy2'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 18:09:53 GMT', {"user":"    date: 'Sun, 27 Feb 2022 18:09:53 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 18:09:53 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '255', {"user":"    'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '255',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '59f1b69f-a1d4-4825-be74-95a2220f9288', {"user":"    'idempotency-key': '59f1b69f-a1d4-4825-be74-95a2220f9288',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '59f1b69f-a1d4-4825-be74-95a2220f9288',"}}
[info] >      'original-request': 'req_IhC5Zo4Wa8yAy2', {"user":"    'original-request': 'req_IhC5Zo4Wa8yAy2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_IhC5Zo4Wa8yAy2',"}}
[info] >      'request-id': 'req_IhC5Zo4Wa8yAy2', {"user":"    'request-id': 'req_IhC5Zo4Wa8yAy2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_IhC5Zo4Wa8yAy2',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_IhC5Zo4Wa8yAy2', {"user":"  requestId: 'req_IhC5Zo4Wa8yAy2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_IhC5Zo4Wa8yAy2',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T18:09:53.781Z] [worker-us-central1-api-99a7879d-743d-4cf2-9d77-da7040f658c6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-99a7879d-743d-4cf2-9d77-da7040f658c6]: exited"}}
[debug] [2022-02-27T18:09:53.781Z] [worker-us-central1-api-99a7879d-743d-4cf2-9d77-da7040f658c6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-99a7879d-743d-4cf2-9d77-da7040f658c6]: FINISHED"}}
[debug] [2022-02-27T18:09:53.781Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T18:10:11.431Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T18:10:11.431Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T18:10:11.431Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=24684 --> us-central1-api
[debug] [2022-02-27T18:10:11.431Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T18:10:11.437Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T18:10:11.437Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T18:10:11.437Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T18:10:11.438Z] [worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6826.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6826.sock"}}
[debug] [2022-02-27T18:10:11.438Z] [worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: BUSY"}}
[debug] [2022-02-27T18:10:11.894Z] [runtime-status] [6826] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T18:10:11.895Z] [runtime-status] [6826] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Disabled runtime features: undefined"}}
[debug] [2022-02-27T18:10:11.896Z] [runtime-status] [6826] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:10:11.896Z] [runtime-status] [6826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:10:11.896Z] [runtime-status] [6826] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T18:10:11.897Z] [runtime-status] [6826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:10:11.917Z] [runtime-status] [6826] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T18:10:11.917Z] [runtime-status] [6826] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T18:10:11.918Z] [runtime-status] [6826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:10:11.918Z] [runtime-status] [6826] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:10:11.918Z] [runtime-status] [6826] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:10:11.918Z] [runtime-status] [6826] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T18:10:11.975Z] [runtime-status] [6826] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T18:10:11.975Z] [runtime-status] [6826] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Running api in signature http"}}
[debug] [2022-02-27T18:10:11.976Z] [runtime-status] [6826] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6826.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6826.sock"}}
[debug] [2022-02-27T18:10:11.977Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T18:10:11.978Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=24684, mapping to path=/payments/create?total=24684 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=24684, mapping to path=/payments/create?total=24684"}}
[debug] [2022-02-27T18:10:11.980Z] [runtime-status] [6826] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  24684 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  24684","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  24684"}}
[debug] [2022-02-27T18:10:11.986Z] [runtime-status] [6826] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T18:10:12.399Z] [worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: IDLE"}}
[debug] [2022-02-27T18:10:12.399Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T18:39:30.744Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T18:39:30.745Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T18:39:30.745Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-27T18:39:30.745Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T18:39:30.745Z] [worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6826.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6826.sock"}}
[debug] [2022-02-27T18:39:30.745Z] [worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: BUSY"}}
[debug] [2022-02-27T18:39:30.747Z] [runtime-status] [6826] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T18:39:30.748Z] [runtime-status] [6826] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Running api in signature http"}}
[debug] [2022-02-27T18:39:30.749Z] [runtime-status] [6826] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6826.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_6826.sock"}}
[debug] [2022-02-27T18:39:30.753Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T18:39:30.754Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-27T18:39:30.756Z] [runtime-status] [6826] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-02-27T18:39:30.758Z] [runtime-status] [6826] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [6826] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 18:39:31 GMT', {"user":"      date: 'Sun, 27 Feb 2022 18:39:31 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 18:39:31 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '4687f050-591c-406c-a015-8cd62446be2b', {"user":"      'idempotency-key': '4687f050-591c-406c-a015-8cd62446be2b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '4687f050-591c-406c-a015-8cd62446be2b',"}}
[info] >        'original-request': 'req_pGi6lLYx87ZyBU', {"user":"      'original-request': 'req_pGi6lLYx87ZyBU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_pGi6lLYx87ZyBU',"}}
[info] >        'request-id': 'req_pGi6lLYx87ZyBU', {"user":"      'request-id': 'req_pGi6lLYx87ZyBU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_pGi6lLYx87ZyBU',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_pGi6lLYx87ZyBU' {"user":"    requestId: 'req_pGi6lLYx87ZyBU'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_pGi6lLYx87ZyBU'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 18:39:31 GMT', {"user":"    date: 'Sun, 27 Feb 2022 18:39:31 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 18:39:31 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '4687f050-591c-406c-a015-8cd62446be2b', {"user":"    'idempotency-key': '4687f050-591c-406c-a015-8cd62446be2b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '4687f050-591c-406c-a015-8cd62446be2b',"}}
[info] >      'original-request': 'req_pGi6lLYx87ZyBU', {"user":"    'original-request': 'req_pGi6lLYx87ZyBU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_pGi6lLYx87ZyBU',"}}
[info] >      'request-id': 'req_pGi6lLYx87ZyBU', {"user":"    'request-id': 'req_pGi6lLYx87ZyBU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_pGi6lLYx87ZyBU',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_pGi6lLYx87ZyBU', {"user":"  requestId: 'req_pGi6lLYx87ZyBU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_pGi6lLYx87ZyBU',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T18:39:31.119Z] [worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: exited"}}
[debug] [2022-02-27T18:39:31.119Z] [worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-dc6f76d0-2ac1-4646-ab21-01efb02155c6]: FINISHED"}}
[debug] [2022-02-27T18:39:31.120Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T18:45:26.391Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T18:45:26.392Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T18:45:26.392Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=19900 --> us-central1-api
[debug] [2022-02-27T18:45:26.393Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T18:45:26.401Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T18:45:26.401Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T18:45:26.401Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T18:45:26.402Z] [worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_8097.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_8097.sock"}}
[debug] [2022-02-27T18:45:26.402Z] [worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: BUSY"}}
[debug] [2022-02-27T18:45:26.950Z] [runtime-status] [8097] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T18:45:26.950Z] [runtime-status] [8097] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Disabled runtime features: undefined"}}
[debug] [2022-02-27T18:45:26.952Z] [runtime-status] [8097] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:45:26.952Z] [runtime-status] [8097] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:45:26.953Z] [runtime-status] [8097] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T18:45:26.953Z] [runtime-status] [8097] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:45:26.977Z] [runtime-status] [8097] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T18:45:26.977Z] [runtime-status] [8097] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T18:45:26.979Z] [runtime-status] [8097] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:45:26.979Z] [runtime-status] [8097] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T18:45:26.979Z] [runtime-status] [8097] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T18:45:26.979Z] [runtime-status] [8097] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T18:45:27.043Z] [runtime-status] [8097] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T18:45:27.044Z] [runtime-status] [8097] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Running api in signature http"}}
[debug] [2022-02-27T18:45:27.045Z] [runtime-status] [8097] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_8097.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_8097.sock"}}
[debug] [2022-02-27T18:45:27.047Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T18:45:27.047Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=19900, mapping to path=/payments/create?total=19900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=19900, mapping to path=/payments/create?total=19900"}}
[debug] [2022-02-27T18:45:27.050Z] [runtime-status] [8097] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  19900 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  19900","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  19900"}}
[debug] [2022-02-27T18:45:27.056Z] [runtime-status] [8097] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T18:45:27.570Z] [worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: IDLE"}}
[debug] [2022-02-27T18:45:27.572Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T19:06:15.780Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T19:06:15.781Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T19:06:15.782Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-27T19:06:15.782Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T19:06:15.783Z] [worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_8097.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_8097.sock"}}
[debug] [2022-02-27T19:06:15.783Z] [worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: BUSY"}}
[debug] [2022-02-27T19:06:15.785Z] [runtime-status] [8097] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T19:06:15.787Z] [runtime-status] [8097] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Running api in signature http"}}
[debug] [2022-02-27T19:06:15.787Z] [runtime-status] [8097] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_8097.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_8097.sock"}}
[debug] [2022-02-27T19:06:15.801Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T19:06:15.801Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-27T19:06:15.802Z] [runtime-status] [8097] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-02-27T19:06:15.804Z] [runtime-status] [8097] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8097] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 19:06:16 GMT', {"user":"      date: 'Sun, 27 Feb 2022 19:06:16 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 19:06:16 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '186a2ca3-fdb2-4700-9826-478d197314be', {"user":"      'idempotency-key': '186a2ca3-fdb2-4700-9826-478d197314be',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '186a2ca3-fdb2-4700-9826-478d197314be',"}}
[info] >        'original-request': 'req_V9bX6xpajPrqW1', {"user":"      'original-request': 'req_V9bX6xpajPrqW1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_V9bX6xpajPrqW1',"}}
[info] >        'request-id': 'req_V9bX6xpajPrqW1', {"user":"      'request-id': 'req_V9bX6xpajPrqW1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_V9bX6xpajPrqW1',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_V9bX6xpajPrqW1' {"user":"    requestId: 'req_V9bX6xpajPrqW1'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_V9bX6xpajPrqW1'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 19:06:16 GMT', {"user":"    date: 'Sun, 27 Feb 2022 19:06:16 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 19:06:16 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '186a2ca3-fdb2-4700-9826-478d197314be', {"user":"    'idempotency-key': '186a2ca3-fdb2-4700-9826-478d197314be',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '186a2ca3-fdb2-4700-9826-478d197314be',"}}
[info] >      'original-request': 'req_V9bX6xpajPrqW1', {"user":"    'original-request': 'req_V9bX6xpajPrqW1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_V9bX6xpajPrqW1',"}}
[info] >      'request-id': 'req_V9bX6xpajPrqW1', {"user":"    'request-id': 'req_V9bX6xpajPrqW1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_V9bX6xpajPrqW1',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_V9bX6xpajPrqW1', {"user":"  requestId: 'req_V9bX6xpajPrqW1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_V9bX6xpajPrqW1',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T19:06:16.215Z] [worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: exited"}}
[debug] [2022-02-27T19:06:16.215Z] [worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8518ce38-2563-467a-8ae2-1a334b2f786a]: FINISHED"}}
[debug] [2022-02-27T19:06:16.215Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T19:06:23.504Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T19:06:23.504Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T19:06:23.505Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=19900 --> us-central1-api
[debug] [2022-02-27T19:06:23.505Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T19:06:23.511Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T19:06:23.512Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T19:06:23.512Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T19:06:23.512Z] [worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock"}}
[debug] [2022-02-27T19:06:23.512Z] [worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: BUSY"}}
[debug] [2022-02-27T19:06:24.064Z] [runtime-status] [9115] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T19:06:24.065Z] [runtime-status] [9115] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Disabled runtime features: undefined"}}
[debug] [2022-02-27T19:06:24.066Z] [runtime-status] [9115] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T19:06:24.067Z] [runtime-status] [9115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:06:24.067Z] [runtime-status] [9115] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T19:06:24.067Z] [runtime-status] [9115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:06:24.095Z] [runtime-status] [9115] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T19:06:24.095Z] [runtime-status] [9115] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T19:06:24.095Z] [runtime-status] [9115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:06:24.095Z] [runtime-status] [9115] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T19:06:24.095Z] [runtime-status] [9115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:06:24.095Z] [runtime-status] [9115] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T19:06:24.158Z] [runtime-status] [9115] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T19:06:24.158Z] [runtime-status] [9115] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Running api in signature http"}}
[debug] [2022-02-27T19:06:24.159Z] [runtime-status] [9115] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock"}}
[debug] [2022-02-27T19:06:24.160Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T19:06:24.161Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=19900, mapping to path=/payments/create?total=19900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=19900, mapping to path=/payments/create?total=19900"}}
[debug] [2022-02-27T19:06:24.163Z] [runtime-status] [9115] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  19900 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  19900","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  19900"}}
[debug] [2022-02-27T19:06:24.169Z] [runtime-status] [9115] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T19:06:24.767Z] [worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: IDLE"}}
[debug] [2022-02-27T19:06:24.767Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T19:18:37.983Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T19:18:37.988Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T19:18:37.988Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=1196 --> us-central1-api
[debug] [2022-02-27T19:18:37.988Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T19:18:37.989Z] [worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock"}}
[debug] [2022-02-27T19:18:37.989Z] [worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: BUSY"}}
[debug] [2022-02-27T19:18:37.992Z] [runtime-status] [9115] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T19:18:37.993Z] [runtime-status] [9115] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Running api in signature http"}}
[debug] [2022-02-27T19:18:37.995Z] [runtime-status] [9115] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock"}}
[debug] [2022-02-27T19:18:38.006Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T19:18:38.006Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=1196, mapping to path=/payments/create?total=1196"}}
[debug] [2022-02-27T19:18:38.018Z] [runtime-status] [9115] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  1196 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  1196","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  1196"}}
[debug] [2022-02-27T19:18:38.021Z] [runtime-status] [9115] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T19:18:38.453Z] [worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: IDLE"}}
[debug] [2022-02-27T19:18:38.453Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T19:19:05.719Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T19:19:05.719Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T19:19:05.719Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-27T19:19:05.719Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T19:19:05.719Z] [worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock"}}
[debug] [2022-02-27T19:19:05.719Z] [worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: BUSY"}}
[debug] [2022-02-27T19:19:05.720Z] [runtime-status] [9115] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T19:19:05.720Z] [runtime-status] [9115] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Running api in signature http"}}
[debug] [2022-02-27T19:19:05.720Z] [runtime-status] [9115] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9115.sock"}}
[debug] [2022-02-27T19:19:05.722Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T19:19:05.722Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-27T19:19:05.724Z] [runtime-status] [9115] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-02-27T19:19:05.725Z] [runtime-status] [9115] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9115] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 19:19:05 GMT', {"user":"      date: 'Sun, 27 Feb 2022 19:19:05 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 19:19:05 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': 'b9dde81b-cbf0-44d5-89c5-ed7cfb8f2bfc', {"user":"      'idempotency-key': 'b9dde81b-cbf0-44d5-89c5-ed7cfb8f2bfc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'b9dde81b-cbf0-44d5-89c5-ed7cfb8f2bfc',"}}
[info] >        'original-request': 'req_DlBJNqC5gcphng', {"user":"      'original-request': 'req_DlBJNqC5gcphng',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_DlBJNqC5gcphng',"}}
[info] >        'request-id': 'req_DlBJNqC5gcphng', {"user":"      'request-id': 'req_DlBJNqC5gcphng',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_DlBJNqC5gcphng',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_DlBJNqC5gcphng' {"user":"    requestId: 'req_DlBJNqC5gcphng'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_DlBJNqC5gcphng'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 19:19:05 GMT', {"user":"    date: 'Sun, 27 Feb 2022 19:19:05 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 19:19:05 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': 'b9dde81b-cbf0-44d5-89c5-ed7cfb8f2bfc', {"user":"    'idempotency-key': 'b9dde81b-cbf0-44d5-89c5-ed7cfb8f2bfc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'b9dde81b-cbf0-44d5-89c5-ed7cfb8f2bfc',"}}
[info] >      'original-request': 'req_DlBJNqC5gcphng', {"user":"    'original-request': 'req_DlBJNqC5gcphng',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_DlBJNqC5gcphng',"}}
[info] >      'request-id': 'req_DlBJNqC5gcphng', {"user":"    'request-id': 'req_DlBJNqC5gcphng',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_DlBJNqC5gcphng',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_DlBJNqC5gcphng', {"user":"  requestId: 'req_DlBJNqC5gcphng',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_DlBJNqC5gcphng',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T19:19:05.957Z] [worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: exited"}}
[debug] [2022-02-27T19:19:05.957Z] [worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-04831b16-2dfa-471b-bde7-c9e5d6e3a3af]: FINISHED"}}
[debug] [2022-02-27T19:19:05.957Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T19:20:08.886Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T19:20:08.886Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T19:20:08.886Z] Accepted request GET /challenge-e932f/us-central1/api --> us-central1-api
[debug] [2022-02-27T19:20:08.886Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T19:20:08.892Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T19:20:08.893Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T19:20:08.893Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T19:20:08.893Z] [worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9749.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9749.sock"}}
[debug] [2022-02-27T19:20:08.893Z] [worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: BUSY"}}
[debug] [2022-02-27T19:20:09.435Z] [runtime-status] [9749] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T19:20:09.435Z] [runtime-status] [9749] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Disabled runtime features: undefined"}}
[debug] [2022-02-27T19:20:09.438Z] [runtime-status] [9749] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T19:20:09.439Z] [runtime-status] [9749] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:20:09.439Z] [runtime-status] [9749] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T19:20:09.439Z] [runtime-status] [9749] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:20:09.465Z] [runtime-status] [9749] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T19:20:09.465Z] [runtime-status] [9749] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T19:20:09.466Z] [runtime-status] [9749] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:20:09.466Z] [runtime-status] [9749] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T19:20:09.466Z] [runtime-status] [9749] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:20:09.466Z] [runtime-status] [9749] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T19:20:09.529Z] [runtime-status] [9749] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T19:20:09.529Z] [runtime-status] [9749] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Running api in signature http"}}
[debug] [2022-02-27T19:20:09.531Z] [runtime-status] [9749] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9749.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_9749.sock"}}
[debug] [2022-02-27T19:20:09.531Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T19:20:09.532Z] [functions] Got req.url=/challenge-e932f/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api, mapping to path=/"}}
[debug] [2022-02-27T19:20:09.535Z] [runtime-status] [9749] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Ephemeral server handling GET request"}}
[debug] [2022-02-27T19:20:09.538Z] [runtime-status] [9749] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9749] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T19:20:09.538Z] [worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: IDLE"}}
[debug] [2022-02-27T19:20:09.538Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T19:31:13.212Z] File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers"}}
[debug] [2022-02-27T19:31:14.215Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-02-27T19:31:14.215Z] [worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: FINISHING"}}
[debug] [2022-02-27T19:31:14.218Z] Validating nodejs source
[debug] [2022-02-27T19:31:14.924Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^9.8.0",
    "firebase-functions": "^3.14.1",
    "kill-port": "^1.6.1",
    "stripe": "^8.205.0"
  },
  "devDependencies": {
    "eslint": "^7.32.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-promise": "^6.0.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-02-27T19:31:14.925Z] Building nodejs source
[debug] [2022-02-27T19:31:14.925Z] Analyzing nodejs backend spec
[debug] [2022-02-27T19:31:14.928Z] [worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: exited"}}
[debug] [2022-02-27T19:31:14.929Z] [worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-319c5c58-5087-4edd-8d0b-aeaa80fe104c]: FINISHED"}}
[debug] [2022-02-27T19:31:16.577Z] File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers"}}
[debug] [2022-02-27T19:31:17.581Z] Validating nodejs source
[debug] [2022-02-27T19:31:18.216Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^9.8.0",
    "firebase-functions": "^3.14.1",
    "kill-port": "^1.6.1",
    "stripe": "^8.205.0"
  },
  "devDependencies": {
    "eslint": "^7.32.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-promise": "^6.0.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-02-27T19:31:18.216Z] Building nodejs source
[debug] [2022-02-27T19:31:18.217Z] Analyzing nodejs backend spec
[debug] [2022-02-27T19:32:21.573Z] File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers"}}
[debug] [2022-02-27T19:32:22.576Z] Validating nodejs source
[debug] [2022-02-27T19:32:23.159Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^9.8.0",
    "firebase-functions": "^3.14.1",
    "kill-port": "^1.6.1",
    "stripe": "^8.205.0"
  },
  "devDependencies": {
    "eslint": "^7.32.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-promise": "^6.0.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-02-27T19:32:23.159Z] Building nodejs source
[debug] [2022-02-27T19:32:23.159Z] Analyzing nodejs backend spec
[debug] [2022-02-27T19:34:09.246Z] File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers"}}
[debug] [2022-02-27T19:34:10.251Z] Validating nodejs source
[debug] [2022-02-27T19:34:11.256Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^9.8.0",
    "firebase-functions": "^3.14.1",
    "kill-port": "^1.6.1",
    "stripe": "^8.205.0"
  },
  "devDependencies": {
    "eslint": "^7.32.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-promise": "^6.0.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-02-27T19:34:11.257Z] Building nodejs source
[debug] [2022-02-27T19:34:11.257Z] Analyzing nodejs backend spec
[debug] [2022-02-27T19:34:16.247Z] File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/index.js changed, reloading triggers"}}
[debug] [2022-02-27T19:34:17.252Z] Validating nodejs source
[debug] [2022-02-27T19:34:17.874Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^9.8.0",
    "firebase-functions": "^3.14.1",
    "kill-port": "^1.6.1",
    "stripe": "^8.205.0"
  },
  "devDependencies": {
    "eslint": "^7.32.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-promise": "^6.0.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-02-27T19:34:17.876Z] Building nodejs source
[debug] [2022-02-27T19:34:17.876Z] Analyzing nodejs backend spec
[debug] [2022-02-27T19:34:49.791Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T19:34:49.791Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T19:34:49.791Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=19900 --> us-central1-api
[debug] [2022-02-27T19:34:49.791Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T19:34:49.799Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T19:34:49.800Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T19:34:49.800Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T19:34:49.800Z] [worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_10690.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_10690.sock"}}
[debug] [2022-02-27T19:34:49.800Z] [worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: BUSY"}}
[debug] [2022-02-27T19:34:50.337Z] [runtime-status] [10690] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T19:34:50.338Z] [runtime-status] [10690] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Disabled runtime features: undefined"}}
[debug] [2022-02-27T19:34:50.339Z] [runtime-status] [10690] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T19:34:50.340Z] [runtime-status] [10690] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:34:50.340Z] [runtime-status] [10690] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T19:34:50.340Z] [runtime-status] [10690] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:34:50.362Z] [runtime-status] [10690] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T19:34:50.362Z] [runtime-status] [10690] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T19:34:50.362Z] [runtime-status] [10690] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:34:50.363Z] [runtime-status] [10690] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T19:34:50.363Z] [runtime-status] [10690] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:34:50.363Z] [runtime-status] [10690] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T19:34:50.423Z] [runtime-status] [10690] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T19:34:50.423Z] [runtime-status] [10690] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Running api in signature http"}}
[debug] [2022-02-27T19:34:50.424Z] [runtime-status] [10690] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_10690.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_10690.sock"}}
[debug] [2022-02-27T19:34:50.426Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T19:34:50.426Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=19900, mapping to path=/payments/create?total=19900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=19900, mapping to path=/payments/create?total=19900"}}
[debug] [2022-02-27T19:34:50.430Z] [runtime-status] [10690] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  19900 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  19900","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  19900"}}
[debug] [2022-02-27T19:34:50.437Z] [runtime-status] [10690] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T19:34:51.070Z] [worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: IDLE"}}
[debug] [2022-02-27T19:34:51.070Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T19:46:16.883Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T19:46:16.884Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T19:46:16.884Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-27T19:46:16.884Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T19:46:16.884Z] [worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_10690.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_10690.sock"}}
[debug] [2022-02-27T19:46:16.885Z] [worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: BUSY"}}
[debug] [2022-02-27T19:46:16.887Z] [runtime-status] [10690] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T19:46:16.888Z] [runtime-status] [10690] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Running api in signature http"}}
[debug] [2022-02-27T19:46:16.889Z] [runtime-status] [10690] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_10690.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_10690.sock"}}
[debug] [2022-02-27T19:46:16.908Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T19:46:16.908Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-27T19:46:16.909Z] [runtime-status] [10690] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-02-27T19:46:16.912Z] [runtime-status] [10690] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10690] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 19:46:17 GMT', {"user":"      date: 'Sun, 27 Feb 2022 19:46:17 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 19:46:17 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '0e125756-8c5c-47c4-9804-91db9b1cb70b', {"user":"      'idempotency-key': '0e125756-8c5c-47c4-9804-91db9b1cb70b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '0e125756-8c5c-47c4-9804-91db9b1cb70b',"}}
[info] >        'original-request': 'req_z6lwNLWXG6Mz9b', {"user":"      'original-request': 'req_z6lwNLWXG6Mz9b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_z6lwNLWXG6Mz9b',"}}
[info] >        'request-id': 'req_z6lwNLWXG6Mz9b', {"user":"      'request-id': 'req_z6lwNLWXG6Mz9b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_z6lwNLWXG6Mz9b',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_z6lwNLWXG6Mz9b' {"user":"    requestId: 'req_z6lwNLWXG6Mz9b'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_z6lwNLWXG6Mz9b'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 19:46:17 GMT', {"user":"    date: 'Sun, 27 Feb 2022 19:46:17 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 19:46:17 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '0e125756-8c5c-47c4-9804-91db9b1cb70b', {"user":"    'idempotency-key': '0e125756-8c5c-47c4-9804-91db9b1cb70b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '0e125756-8c5c-47c4-9804-91db9b1cb70b',"}}
[info] >      'original-request': 'req_z6lwNLWXG6Mz9b', {"user":"    'original-request': 'req_z6lwNLWXG6Mz9b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_z6lwNLWXG6Mz9b',"}}
[info] >      'request-id': 'req_z6lwNLWXG6Mz9b', {"user":"    'request-id': 'req_z6lwNLWXG6Mz9b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_z6lwNLWXG6Mz9b',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_z6lwNLWXG6Mz9b', {"user":"  requestId: 'req_z6lwNLWXG6Mz9b',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_z6lwNLWXG6Mz9b',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T19:46:17.484Z] [worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: exited"}}
[debug] [2022-02-27T19:46:17.484Z] [worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-385bc570-ba92-43c0-a0bb-55f4e10f2668]: FINISHED"}}
[debug] [2022-02-27T19:46:17.484Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T19:47:14.521Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T19:47:14.521Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T19:47:14.521Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=2392 --> us-central1-api
[debug] [2022-02-27T19:47:14.521Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-02-27T19:47:14.528Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-02-27T19:47:14.528Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-02-27T19:47:14.528Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T19:47:14.528Z] [worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_11323.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_11323.sock"}}
[debug] [2022-02-27T19:47:14.529Z] [worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: BUSY"}}
[debug] [2022-02-27T19:47:15.129Z] [runtime-status] [11323] Functions runtime initialized. {"cwd":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions","node_version":"15.14.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Functions runtime initialized. {\"cwd\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions\",\"node_version\":\"15.14.0\"}"}}
[debug] [2022-02-27T19:47:15.129Z] [runtime-status] [11323] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Disabled runtime features: undefined"}}
[debug] [2022-02-27T19:47:15.131Z] [runtime-status] [11323] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T19:47:15.132Z] [runtime-status] [11323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:47:15.132Z] [runtime-status] [11323] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-02-27T19:47:15.132Z] [runtime-status] [11323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:47:15.158Z] [runtime-status] [11323] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-02-27T19:47:15.158Z] [runtime-status] [11323] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-02-27T19:47:15.158Z] [runtime-status] [11323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:47:15.158Z] [runtime-status] [11323] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-02-27T19:47:15.158Z] [runtime-status] [11323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.18.1","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.18.1\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-02-27T19:47:15.158Z] [runtime-status] [11323] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.12.0","resolution":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.12.0\",\"resolution\":\"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-02-27T19:47:15.225Z] [runtime-status] [11323] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T19:47:15.225Z] [runtime-status] [11323] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Running api in signature http"}}
[debug] [2022-02-27T19:47:15.226Z] [runtime-status] [11323] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_11323.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_11323.sock"}}
[debug] [2022-02-27T19:47:15.228Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T19:47:15.228Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=2392, mapping to path=/payments/create?total=2392 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=2392, mapping to path=/payments/create?total=2392"}}
[debug] [2022-02-27T19:47:15.231Z] [runtime-status] [11323] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  2392 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  2392","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  2392"}}
[debug] [2022-02-27T19:47:15.237Z] [runtime-status] [11323] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-02-27T19:47:15.693Z] [worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: IDLE"}}
[debug] [2022-02-27T19:47:15.693Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-02-27T19:47:26.098Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-02-27T19:47:26.098Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-02-27T19:47:26.098Z] Accepted request POST /challenge-e932f/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-02-27T19:47:26.098Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-02-27T19:47:26.098Z] [worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_11323.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: Assigning socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_11323.sock"}}
[debug] [2022-02-27T19:47:26.098Z] [worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: BUSY"}}
[debug] [2022-02-27T19:47:26.099Z] [runtime-status] [11323] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"api\""}}
[debug] [2022-02-27T19:47:26.099Z] [runtime-status] [11323] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Running api in signature http"}}
[debug] [2022-02-27T19:47:26.099Z] [runtime-status] [11323] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_11323.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Attempting to listen to socketPath: /var/folders/3p/qlvw_70s5zj79pgn1m1pds740000gn/T/fire_emu_11323.sock"}}
[debug] [2022-02-27T19:47:26.101Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-02-27T19:47:26.101Z] [functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-e932f/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-02-27T19:47:26.103Z] [runtime-status] [11323] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Ephemeral server handling POST request"}}
[info] >  Payment Request Recieved BOOM!!! for this amount >>>  0 {"user":"Payment Request Recieved BOOM!!! for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m Payment Request Recieved BOOM!!! for this amount >>>  0"}}
[debug] [2022-02-27T19:47:26.105Z] [runtime-status] [11323] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11323] Ephemeral server survived."}}
[info] >  /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/tarinkazi/lightHouseLab/ecommerceapp/my-app/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Sun, 27 Feb 2022 19:47:26 GMT', {"user":"      date: 'Sun, 27 Feb 2022 19:47:26 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 27 Feb 2022 19:47:26 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'idempotency-key': '2db8e4b6-8af6-4dd0-b9e1-2a1374bd324f', {"user":"      'idempotency-key': '2db8e4b6-8af6-4dd0-b9e1-2a1374bd324f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'idempotency-key': '2db8e4b6-8af6-4dd0-b9e1-2a1374bd324f',"}}
[info] >        'original-request': 'req_ufm9nFXeinJEYa', {"user":"      'original-request': 'req_ufm9nFXeinJEYa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_ufm9nFXeinJEYa',"}}
[info] >        'request-id': 'req_ufm9nFXeinJEYa', {"user":"      'request-id': 'req_ufm9nFXeinJEYa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_ufm9nFXeinJEYa',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_ufm9nFXeinJEYa' {"user":"    requestId: 'req_ufm9nFXeinJEYa'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_ufm9nFXeinJEYa'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Sun, 27 Feb 2022 19:47:26 GMT', {"user":"    date: 'Sun, 27 Feb 2022 19:47:26 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 27 Feb 2022 19:47:26 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'idempotency-key': '2db8e4b6-8af6-4dd0-b9e1-2a1374bd324f', {"user":"    'idempotency-key': '2db8e4b6-8af6-4dd0-b9e1-2a1374bd324f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'idempotency-key': '2db8e4b6-8af6-4dd0-b9e1-2a1374bd324f',"}}
[info] >      'original-request': 'req_ufm9nFXeinJEYa', {"user":"    'original-request': 'req_ufm9nFXeinJEYa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_ufm9nFXeinJEYa',"}}
[info] >      'request-id': 'req_ufm9nFXeinJEYa', {"user":"    'request-id': 'req_ufm9nFXeinJEYa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_ufm9nFXeinJEYa',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_ufm9nFXeinJEYa', {"user":"  requestId: 'req_ufm9nFXeinJEYa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_ufm9nFXeinJEYa',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-02-27T19:47:26.336Z] [worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: exited"}}
[debug] [2022-02-27T19:47:26.336Z] [worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0fa3d6d4-94bd-4245-acc7-55dd1a9f0c2b]: FINISHED"}}
[debug] [2022-02-27T19:47:26.336Z] [work-queue] {"queueLength":0,"workRunningCount":0}
